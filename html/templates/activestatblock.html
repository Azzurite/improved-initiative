<h3 class="Name" data-bind="text: Name"></h3>

<div class="Source" data-bind="text: Source"></div>
<div class="Type" data-bind="text: Type"></div>

<svg xmlns="http://www.w3.org/2000/svg" class="icon horizrule"><use xlink:href="#horizrule"></use></svg>

<!-- ko foreach: ['Traits','Actions','Reactions','LegendaryActions'] -->
<div data-bind="if: $parent[$data].length, css: $data">
    <h4 data-bind="uiText: $data, visible: $parent[$data].length"></h4>
  <div data-bind="foreach: $parent[$data]">
    <div>
      <span class="label" data-bind="text: Name"></span>
      <span class="label" data-bind="text: Usage"></span>
      <span data-bind="statblockText: Content"></span>
    </div>
  </div>
</div>
<!-- /ko -->

<svg xmlns="http://www.w3.org/2000/svg" class="icon horizrule"><use xlink:href="#horizrule"></use></svg>

<div class="AC">
  <span class="label">Armor Class</span>
  <span data-bind="text: AC.Value"></span>
  <span class="notes" data-bind="statblockText: AC.Notes"></span>
</div>

<div class="HP">
  <span class="label">Hit Points</span>
  <span data-bind="text: HP.Value"></span>
  <span class="notes" data-bind="statblockText: HP.Notes"></span>
</div>

<div class="speed">
  <span class="label">Speed</span>
  <span data-bind="text: Speed.join(', ')"></span>
</div>

<svg xmlns="http://www.w3.org/2000/svg" class="icon horizrule"><use xlink:href="#horizrule"></use></svg>

<div class="Abilities" data-bind="foreach: ['Str', 'Dex', 'Con', 'Int', 'Wis', 'Cha']">
  <div>
    <div class="label" data-bind="text: $data"></div>
    <div class="score" data-bind="css: $data, text: $parent.Abilities[$data]"></div>
    <div class="modifier" data-bind="css: $data, 
      statblockText: $root.Encounter().Rules.GetModifierFromScore($parent.Abilities[$data]).toModifierString()">
    </div>
  </div>
</div>

<div class="modifiers" data-bind="foreach: ['Saves', 'Skills']">
  <div data-bind="visible: $parent[$data].length, css: $data">
    <span class="label" data-bind="text: $data"></span>
    <!-- ko foreach: $parent[$data] -->
      <span data-bind="text:$data.Name"></span>
      <span class="csv" data-bind="statblockText: ($data.Modifier >= 0?'+':'-') + $data.Modifier"></span>
    <!-- /ko -->
  </div>
</div>

<div class="keyword-sets" data-bind="foreach: ['Senses','DamageVulnerabilities','DamageResistances','DamageImmunities','ConditionImmunities','Languages']">
  <div data-bind="visible: $parent[$data].length, css: $data">
    <span class="label" data-bind="uiText:$data"></span>
    <span class="csv" data-bind="statblockText: $parent[$data].join(', ')"></span>
  </div>
</div>

<div class="Challenge" data-bind="visible: Challenge">
  <span class="label">Challenge</span>
  <span data-bind="text: Challenge"></span>
</div>

<div class="Description" data-bind="visible: Description">
  <span class="label">Description</span>
  <span data-bind="statblockText: Description"></span>
</div>